<div class="container">
    <!-- <p>second-level works!</p> -->
    <div (click)="backClicked()" class="backButton">
        <mat-icon>keyboard_backspace</mat-icon>
    </div>
    <div class="secondLevelHeaderName">{{wholeData.protein_name}}</div>
    <mat-card class="proteinCard">
        <!-- <mat-card-header class="proteinInfoHeader">Protein Information</mat-card-header> -->
        <mat-card style="background-color: darkgrey; margin-bottom: 5px;">
            <mat-card-header>
                <div style="display: flex; flex-direction: row; justify-content: space-between; width: 100%;">
                    <ng-container>
                        <span>Protein Information</span>
                    </ng-container>
                </div>
            </mat-card-header>
        </mat-card>
        <mat-card-content class="proteinInfo">
            <!-- <img [src]="wholeData.level2.level2_image" alt="" style=" margin-right: 10px;"> -->
            <div [id]="'secondLevelviewport'+'1'" style="height: 400px; width: 400px; margin-right: 10px;"></div>
            <div style="display: flex;flex-direction: column;justify-content: space-between;">
                <!-- <span>Calculations: {{wholeData.level2.Calculations}}</span> -->
                <br>
                <!-- <span>Compounds with docking data: {{wholeData.level2.Compounds_with_docking_data}}</span> -->
                <br>
                <!-----------------------   RANGE SLIDERS -------------->
                <span name="wholeSliderContainer"
                    style="display: flex; flex-direction: row; justify-content: space-between;">
                    <span name="sliderContainer1" style="display: flex; flex-direction: column; margin: 10px;">
                        <span style="width: 600px;">
                            <br>
                            Molecular Weight (MW):
                            <br>
                            <br>
                            <ng5-slider [(value)]="mwMinValue" [(highValue)]="mwMaxValue" [options]="MWSliderOptions"
                                (valueChange)="lowValueChange($event, 'MWSlider')"
                                (highValueChange)="highValueChange($event,'MWSlider')"></ng5-slider>
                            <br>
                            <span
                                style="display: flex; flex-direction: row; justify-content: space-between; width: 600px;">
                                <!-- <ng-container *ngFor="let rangeValue of molecularWeightRanges | keyvalue: asIsOrder;">
                                    <span style="text-align: left;">{{molecularWeightRanges[rangeValue.key]}}</span>
                                </ng-container> -->
                            </span>
                        </span>
                        <br>


                        <span style="width: 600px;">
                            Partition Coefficient (SlogP):
                            <br>
                            <br>
                            <ng5-slider [(value)]="slogpMinValue" [(highValue)]="slogpMaxValue"
                                [options]="SlogpSliderOptions" (valueChange)="lowValueChange($event, 'SlogP')"
                                (highValueChange)="highValueChange($event,'SlogP')"></ng5-slider>
                            <br>
                            <br>
                        </span>


                        <span style="width: 600px;">
                            <br>
                            Topological Polar Surface Area (TPSA):
                            <br>
                            <br>
                            <ng5-slider [(value)]="TPSAMinValue" [(highValue)]="TPSAMaxValue"
                                [options]="TPSASliderOptions" (valueChange)="lowValueChange($event, 'tpsa')"
                                (highValueChange)="highValueChange($event, 'tpsa')"></ng5-slider>
                            <br>
                            <span
                                style="display: flex; flex-direction: row; justify-content: space-between; width: 600px;">
                                <!-- <ng-container
                                    *ngFor="let rangeValue of topologicalPolarSurfaceArea | keyvalue: asIsOrder;">
                                    <span>{{topologicalPolarSurfaceArea[rangeValue.key]}}</span>
                                </ng-container> -->
                            </span>
                        </span>
                        <br>
                    </span>
                    <span name="sliderContainer2" style="display: flex; flex-direction: column;  margin: 10px;">
                        <span style="width: 600px;">
                            <br>
                            Hydrogen Bond Acceptors (HBA):
                            <br>
                            <br>
                            <ng5-slider [(value)]="HBAMinValue" [(highValue)]="HBAMaxValue" [options]="HBASliderOptions"
                                (valueChange)="lowValueChange($event, 'h-acc')"
                                (highValueChange)="highValueChange($event, 'h-acc')"></ng5-slider>
                            <br>
                            <span
                                style="display: flex; flex-direction: row; justify-content: space-between; width: 600px;">
                                <!-- <ng-container *ngFor="let rangeValue of hydrogenBondAcceptors | keyvalue: asIsOrder;">
                                    <span>{{hydrogenBondAcceptors[rangeValue.key]}}</span>
                                </ng-container> -->
                            </span>
                        </span>
                        <br>

                        <span style="width: 600px;">
                            <br>
                            # H-Donors (HBD):
                            <br>
                            <ng5-slider [(value)]="hbdMinValue" [(highValue)]="hbdMaxValue" [options]="HBDSliderOptions"
                                (valueChange)="lowValueChange($event, 'hbd')"
                                (highValueChange)="highValueChange($event, 'hbd')"></ng5-slider>
                            <!-- <mat-slider [value]="8" (input)="onSliderChange($event, 'hbd')" class="my-slider" min="1"
                                max="8" step="1" value="1.5" tickInterval="1" style="width:600px">
                            </mat-slider>
                            <br> -->
                            <span
                                style="display: flex; flex-direction: row; justify-content: space-between; width: 600px;">
                                <!-- <ng-container *ngFor="let rangeValue of hydrogenBondDonors | keyvalue: asIsOrder;">
                                    <span>{{hydrogenBondDonors[rangeValue.key]}}</span>
                                </ng-container> -->
                            </span>
                        </span>
                        <br>

                        <span style="width: 600px;">
                            <br>
                            <br>
                            Rotable Bonds (rotB):
                            <br>
                            <ng5-slider [(value)]="rotBMinValue" [(highValue)]="rotBMaxValue"
                                [options]="rotBSliderOptions" (valueChange)="lowValueChange($event, 'rotB')"
                                (highValueChange)="highValueChange($event, 'rotB')"></ng5-slider>
                            <!-- <mat-slider [value]="8" (input)="onSliderChange($event, 'rotB')" class="my-slider" min="1"
                                max="8" step="1" value="1.5" tickInterval="1" style="width:600px">
                            </mat-slider> -->
                            <br>
                            <span
                                style="display: flex; flex-direction: row; justify-content: space-between; width: 600px;">
                                <!-- <ng-container *ngFor="let rangeValue of rotableBonds | keyvalue: asIsOrder;">
                                    <span>{{rotableBonds[rangeValue.key]}}</span>
                                </ng-container> -->
                            </span>
                        </span>
                        <br>
                    </span>
                </span>
                <br>
                <!-- <button mat-raised-button color="primary">Download Structure</button> -->
            </div>
        </mat-card-content>

    </mat-card>


    <table (matSortChange)="sortData($event)" mat-table  #table [dataSource]="dataSource" class="mat-elevation-z8" style="width:90%">

        <!-- Position Column -->
        <ng-container matColumnDef="Compound_screening_ID">
            <th mat-header-cell *matHeaderCellDef >Compound Identifier</th>
            <!-- <span *ngIf="!compoundBlacklist.includes(element.CompoudBaseID)"> -->
            <td mat-cell  *matCellDef="let element;" [ngClass]="{'hide':compoundBlacklist.includes(element.CompoudBaseID)}" >
                <!-- <span *ngIf="!compoundBlacklist.includes(element.CompoudBaseID)"></span> -->
                {{element.Compound_screening_ID}}
                 </td>
                <!-- </span> -->
        </ng-container>

        <!-- Name Column -->
        <ng-container matColumnDef="docking_score">
            <th mat-header-cell *matHeaderCellDef matSort> Top Scores </th>
            <td mat-cell *matCellDef="let element" [ngClass]="{'hide':compoundBlacklist.includes(element.CompoudBaseID)}"> {{element.docking_score}} </td>
        </ng-container>

        <!-- Weight Column -->
        <ng-container matColumnDef="MW">
            <th mat-header-cell *matHeaderCellDef> Molecular Weight </th>
            <td mat-cell *matCellDef="let element" [ngClass]="{'hide':compoundBlacklist.includes(element.CompoudBaseID)}"> {{element.MW}} </td>
        </ng-container>

        <!-- Symbol Column -->
        <ng-container matColumnDef="cLogP">
            <th mat-header-cell *matHeaderCellDef> cLogP </th>
            <td mat-cell *matCellDef="let element" [ngClass]="{'hide':compoundBlacklist.includes(element.CompoudBaseID)}"> {{element.cLogP}} </td>
        </ng-container>

        <!-- Symbol Column -->
        <ng-container matColumnDef="h_acc">
            <th mat-header-cell *matHeaderCellDef> h_acc </th>
            <td mat-cell *matCellDef="let element" [ngClass]="{'hide':compoundBlacklist.includes(element.CompoudBaseID)}"> {{element.h_acc}} </td>
        </ng-container>

        <!-- Symbol Column -->
        <ng-container matColumnDef="h_donors">
            <th mat-header-cell *matHeaderCellDef> h_donors </th>
            <td mat-cell *matCellDef="let element" [ngClass]="{'hide':compoundBlacklist.includes(element.CompoudBaseID)}"> {{element.h_donors}} </td>
        </ng-container>

        <!-- Symbol Column -->
        <ng-container matColumnDef="tpsa">
            <th mat-header-cell *matHeaderCellDef> tpsa </th>
            <td mat-cell *matCellDef="let element" [ngClass]="{'hide':compoundBlacklist.includes(element.CompoudBaseID)}"> {{element.tpsa}} </td>
        </ng-container>

        <!-- Symbol Column -->
        <ng-container matColumnDef="Rotatable_Bonds">
            <th mat-header-cell *matHeaderCellDef> rotb </th>
            <td mat-cell *matCellDef="let element" [ngClass]="{'hide':compoundBlacklist.includes(element.CompoudBaseID)}"> {{element.Rotatable_Bonds}} </td>
        </ng-container>


        <tr mat-header-row *matHeaderRowDef="displayedColumns" ></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;" (click)="clickedRow($event)" ></tr>
    </table>
    <mat-paginator style="width: 90%;"
      [pageSize]="initPageSize" [pageSizeOptions]="[2, 4, 6, 10, 20,100,500,1000]"
      (page)="handlePage($event)">
    </mat-paginator>
    <router-outlet></router-outlet>
</div>
