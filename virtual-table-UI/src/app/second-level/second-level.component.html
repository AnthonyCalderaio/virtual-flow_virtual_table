<div class="container">
    <!-- <p>second-level works!</p> -->
    <div (click)="backClicked()" class="backButton">
        <mat-icon>keyboard_backspace</mat-icon>
    </div>
    <div class="secondLevelHeaderName">{{wholeData.level1.name}}</div>
    <mat-card class="proteinCard">
        <!-- <mat-card-header class="proteinInfoHeader">Protein Information</mat-card-header> -->
        <mat-card style="background-color: darkgrey; margin-bottom: 5px;">
            <mat-card-header>
                <div style="display: flex; flex-direction: row; justify-content: space-between; width: 100%;">
                    <ng-container>
                        <span>Protein Information</span>
                    </ng-container>
                </div>
            </mat-card-header>
        </mat-card>
        <mat-card-content class="proteinInfo">
            <!-- <img [src]="wholeData.level2.level2_image" alt="" style=" margin-right: 10px;"> -->
            <div [id]="'secondLevelviewport'+'1'" style="height: 400px; width: 400px; margin-right: 10px;"></div>
            <div style="display: flex;flex-direction: column;justify-content: space-between;">
                <span>Calculations: {{wholeData.level2.Calculations}}</span>
                <br>
                <span>Compounds with docking data: {{wholeData.level2.Compounds_with_docking_data}}</span>
                <br>
                <button mat-raised-button color="primary">Download Structure</button>
            </div>
        </mat-card-content>
    </mat-card>

    <!-----------------------   RANGE SLIDERS -------------->
    <span name="wholeSliderContainer" style="display: flex; flex-direction: row; justify-content: space-between;">
        <span name="sliderContainer1" style="display: flex; flex-direction: column; margin: 10px;">
            <span style="width: 600px;">
                Molecular Weight (MW): 0 to 250 ---- {{mwFilter}}
                <mat-slider [value]="11" name="MWSlider" (input)="onSliderChange($event, 'MWSlider')" class="my-slider"
                    thumbLabel min="1" max="11" step="1" value="1.5" tickInterval="1" style="width:600px"></mat-slider>
                <br>
                <span style="display: flex; flex-direction: row; justify-content: space-between; width: 600px;">
                    <ng-container *ngFor="let rangeValue of molecularWeightRanges | keyvalue: asIsOrder;">
                        <span style="text-align: left;">{{molecularWeightRanges[rangeValue.key]}}</span>
                    </ng-container>
                </span>

            </span>
            <br>


            <span style="width: 600px;">
                Partition Coefficient (SlogP): -∞ to ∞ {{slogPFilter}}
                <mat-slider [value]="12" (input)="onSliderChange($event, 'SlogP')" class="my-slider" thumbLabel min="1"
                    max="12" step="1" value="1.5" tickInterval="1" style="width:600px"></mat-slider>
                <br>
                <span style="display: flex; flex-direction: row; justify-content: space-between; width: 600px;">
                    <ng-container *ngFor="let rangeValue of partitionCoefficientRanges | keyvalue: asIsOrder;">
                        <span>{{partitionCoefficientRanges[rangeValue.key]}}</span>
                    </ng-container>
                </span>
                <br>
            </span>


            <span style="width: 600px;">
                Topological Polar Surface Area (TPSA): 0 to 140 {{tpsaFilter}}
                <mat-slider [value]="8" (input)="onSliderChange($event, 'tpsa')" class="my-slider" min="1" max="8"
                    step="1" value="1.5" tickInterval="1" style="width:600px">
                </mat-slider>
                <br>
                <span style="display: flex; flex-direction: row; justify-content: space-between; width: 600px;">
                    <ng-container *ngFor="let rangeValue of topologicalPolarSurfaceArea | keyvalue: asIsOrder;">
                        <span>{{topologicalPolarSurfaceArea[rangeValue.key]}}</span>
                    </ng-container>
                </span>
            </span>
            <br>
        </span>
        <span name="sliderContainer2" style="display: flex; flex-direction: column;  margin: 10px;">
            <span style="width: 600px;">
                Hydrogen Bond Acceptors (HBA): 0 to 10 ------ {{h_accFilter}}
                <mat-slider [value]="8" (input)="onSliderChange($event, 'h-acc')" class="my-slider" min="1" max="8"
                    step="1" value="1.5" tickInterval="1" style="width:600px">
                </mat-slider>
                <br>
                <span style="display: flex; flex-direction: row; justify-content: space-between; width: 600px;">
                    <ng-container *ngFor="let rangeValue of hydrogenBondAcceptors | keyvalue: asIsOrder;">
                        <span>{{hydrogenBondAcceptors[rangeValue.key]}}</span>
                    </ng-container>
                </span>
            </span>
            <br>

            <span style="width: 600px;">
                # H-Donors (HBD): 0 to 10 ------ {{hbdFilter}}
                <mat-slider [value]="8" (input)="onSliderChange($event, 'hbd')" class="my-slider" min="1" max="8"
                    step="1" value="1.5" tickInterval="1" style="width:600px">
                </mat-slider>
                <br>
                <span style="display: flex; flex-direction: row; justify-content: space-between; width: 600px;">
                    <ng-container *ngFor="let rangeValue of hydrogenBondDonors | keyvalue: asIsOrder;">
                        <span>{{hydrogenBondDonors[rangeValue.key]}}</span>
                    </ng-container>
                </span>
            </span>
            <br>

            <span style="width: 600px;">
                Rotable Bonds (rotB): 0 to 10 ----- {{rotBFilter}}
                <mat-slider [value]="8" (input)="onSliderChange($event, 'rotB')" class="my-slider" min="1" max="8"
                    step="1" value="1.5" tickInterval="1" style="width:600px">
                </mat-slider>
                <br>
                <span style="display: flex; flex-direction: row; justify-content: space-between; width: 600px;">
                    <ng-container *ngFor="let rangeValue of rotableBonds | keyvalue: asIsOrder;">
                        <span>{{rotableBonds[rangeValue.key]}}</span>
                    </ng-container>
                </span>
            </span>
            <br>
        </span>
    </span>






    <!-- <span style="width: 600px;">Hydrogen Bond Acceptors (HBA): 0 to 10
        <mat-slider min="1" max="5" step="0.5" value="1.5"></mat-slider>
        <br>
        <span style="display: flex; flex-direction: row; justify-content: space-evenly; width: 600px;">
            <ng-container *ngFor="let rangeValue of molecularWeightRanges | keyvalue: asIsOrder;">
                {{molecularWeightRanges[rangeValue.key]}}
            </ng-container>
        </span>
    </span>


    <span style="width: 600px;">Hydrogen Bond Donors (HBD): 0 to ∞
        <mat-slider min="1" max="5" step="0.5" value="1.5"></mat-slider>
        <br>
        <span style="display: flex; flex-direction: row; justify-content: space-evenly; width: 600px;">
            <ng-container *ngFor="let rangeValue of molecularWeightRanges | keyvalue: asIsOrder;">
                {{molecularWeightRanges[rangeValue.key]}}
            </ng-container>
        </span>
    </span>


    <span style="width: 600px;">Rotatable Bonds (RotB): 0 to 10
        <mat-slider min="1" max="5" step="0.5" value="1.5"></mat-slider>
        <br>
        <span style="display: flex; flex-direction: row; justify-content: space-evenly; width: 600px;">
            <ng-container *ngFor="let rangeValue of molecularWeightRanges | keyvalue: asIsOrder;">
                {{molecularWeightRanges[rangeValue.key]}}
            </ng-container>
        </span>
    </span> -->



    <mat-card class="dockedCard">
        <mat-card-header class="dockedInfoHeader">Docked Compounds</mat-card-header>
        <mat-card-header>
            <div style="display: flex; flex-direction: row; justify-content: space-between; width: 100%;">
                <ng-container>
                    <span>Compound Identifier</span><span>Top
                        Scores</span><span>MW</span><span>cLogP</span><span># H-Acc</span><span>#
                        H-Donors</span><span>TPSA</span><span>$ Rotable Bonds</span><span> </span>
                </ng-container>
            </div>
        </mat-card-header>
        <mat-card-content class="dockedInfo">
            <div class="compoundScroller">
                <mat-card style="background-color: darkgrey;">
                    <mat-card-header>
                        <!-- <div style="display: flex; flex-direction: row; justify-content: space-between; width: 100%;">
                            <ng-container>
                                <span>Compound Identifier</span><span>Top
                                    Scores</span><span>MW</span><span>cLogP</span><span># H-Acc</span><span> </span>
                            </ng-container>
                        </div> -->
                    </mat-card-header>
                </mat-card>
                <div *ngFor="let item of wholeData.level2.docked_compounds | keyvalue; let i = index">
                    <span *ngIf="!compoundBlacklist.includes(item.value.compound_identifier)">
                        <mat-card class="compoundCard" (click)="clickedDockCompound(i)">
                            <div class="compoundUnitFirstColumn"> <img [src]="item.value.compound_image" alt="">
                                {{item.value.compound_identifier}}
                            </div>
                            <div name="scoreBlock" style="max-width: 100px;"> {{item.value.docking_scores}}
                            </div>
                            <div>{{item.value.MW}}</div>
                            <div>{{item.value.cLogP}}</div>
                            <div>{{item.value.H_Acc}}</div>
                            <div>{{item.value.hDonors}}</div>
                            <div>{{item.value.tpsa}}</div>
                            <div>{{item.value.rotable_bonds}}</div>
                            <div class="compoundUnitLinkBlock">
                                See More
                            </div>
                        </mat-card>
                    </span>
                </div>
            </div>
        </mat-card-content>
    </mat-card>
    <router-outlet></router-outlet>
</div>